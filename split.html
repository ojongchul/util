<!DOCTYPE html>
<html>
    <head>
        <title>한 줄을 여러 줄로 나누기</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
	<style type="text/css">
		body {
			margin: 0 auto;
			max-width: 50rem;
			padding: 2rem;
			font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;
		}

		h1, h2, h3, p {
			word-break:keep-all;
		}
		.signature {
			font-family:cursive;
		}
	</style>
    </head>
    <body>
	<h1>한 줄을 여러 줄로 나누기</h1>
	<table style="width: 100%;">
		<tr>
			<td colspan="3" style="text-align:right;">
				<img src="./lkretail.png" style="width:100px;" />
			</td>
		</tr>
		<tr>
			<td>
				<textarea id="rows" style="width:100%;height:500px;"></textarea>
			</td>
			<td style="text-align: center">
				<button onclick="setCols()">바꿔줘</button>
			</td>
			<td>
				<textarea id="cols" style="width:100%;height:500px;"></textarea>
			</td>
		</tr>
		<tr>
			<td colspan="3" style="text-align:right;">
				<span class="signature">made by lee</span>
			</td>
		</tr>
	</table>
	<script type="text/javascript">
	function setCols() {
		const data =  document.getElementById('rows').value.substring(1,document.getElementById('rows').value.length-1).split("\"").filter(value => value != "\t" && value != "\n").map(text => text.split("\n"));
		let rows = "";
		const length = data.length/2;
		for(var i=0; i <= length; i++) {
			if(i % 2 !=0) continue;
			key = data[i];
			value = data[i+1];
			for(var j = 0; j < key.length; j++) {
				rows += "\"" + key[j] + "\"\t" + value[j] + "\n";
			}
		}
		document.getElementById('cols').value = rows;
	}
	</script>
	</body>
</html>
